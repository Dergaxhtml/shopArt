<!DOCTYPE html>
<html lang="en">

<html>
<head>
    <meta charset="utf-8"/>

    <title> Rejestracja </title>

    <script src="https://kit.fontawesome.com/4a32382f39.js" crossorigin="anonymous"></script>
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <!-- jQuery library -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <!-- Latest compiled JavaScript -->
    <!--    <script src="slider.js" type="text/javascript"></script>-->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <link href="style.css" rel="stylesheet" type="text/css">


</head>
<body>
<?php header('Access-Control-Allow-Origin: *'); ?>
@{

ViewBag.Title = "Posting Data to WEBAPI using Jquery";
}


<h3 class="text-info">Posting Data to WEBAPI using Jquery</h3>
<script src="~/Scripts/jquery-1.10.2.min.js"></script>
<style>
    input{
        max-width:250px;
    }
</style>
<h5 class="text-danger">
    <b>Note:</b>Please Enter all details correctly and submit
    Here i did not applied validations to this form
</h5>
<div class="container">
    <form name="postform" id="postform" class="form-horizontal">
<!--        <div class="form-group">-->
<!--            <label class="text-info">Student ID</label>-->
<!--            <input type="number" id="txtStudentID" class="form-control" />-->
<!--        </div>-->
<!--        <div class="form-group">-->
<!--            <label class="text-info">Student Name</label>-->
<!--            <input type="text" id="txtStudentName" class="form-control" />-->
<!--        </div>-->
        <div class="form-group">
            <label class="text-info">Email</label>
            <input type="email" id="txtEmail" class="form-control" />
        </div>
        <div class="form-group">
            <label class="text-info">Password</label>
            <input type="text" id="txtCity" class="form-control" />
        </div>

        <button type="submit" class="btn btn-default">Save</button>
    </form>
</div>
<script type="text/javascript">
    $(document).ready(function () {
        $("#postform").submit(function (e) {
            e.preventDefault();
            var apiurl = "http://localhost:8081/api/user/register";
            var data = {
                // StudentID: $("#txtStudentID").val().trim(),
                // StudentName: $("#txtStudentName").val().trim(),
                Email: $("#txtEmail").val().trim(),
                Password: $("#txtCity").val().trim(),

            }
            $.ajax({
                url: apiurl,
                type: 'POST',
                dataType: 'json',
                data: data,
                success: function (d) {
                    alert("Saved Successfully");
                    document.getElementById("postform").reset();
                },
                error: function () {
                    alert("Error please try again");
                }
            });
        });
    });

</script>



<!--<script src="index.js"></script>-->

<!--<script>-->
<!--    const date = { asd,prd };-->
<!--    const options = {-->
<!--        method: 'POST',-->
<!--        headers:{-->
<!--            'Content-Type': 'application/json'-->
<!--        },-->
<!--        body: JSON.stringify(date)-->
<!--    };-->
<!--    const response = await fetch('/api/user/register', options.then(response =>{-->
<!--       const json = await response.json();-->
<!--        console.log(json);-->
<!--    }));-->
<!--</script>-->
<!--&lt;!&ndash; main &ndash;&gt;-->
<!--<div class="register-input">-->
<!--    <h1> Rejestracja </h1>-->
<!--    <div class="reg-info">-->
<!--        <div class="reg-top">-->
<!--            <form action="#" method="post">-->
<!--                <div class="register">-->
<!--                <input class="text" type="text" name="Username" placeholder="Username" required="">-->
<!--                <input class="text email" type="email" name="email" placeholder="Email" required="">-->
<!--                <input class="text" type="password" name="password" placeholder="Password" required="">-->
<!--                <input class="text w3lpass" type="password" name="password" placeholder="Confirm Password" required="">-->
<!--                </div>-->
<!--                <div class="form-submit">-->
<!--                    <input type="submit" class="btn btn-lg btn-primary btn-block" value="Utwórz użytkownika"/>-->
<!--                </div>-->

<!--        </form>-->
<!--        <p> Masz konto? <a href="#"> Zaloguj się JUŻ! </a></p>-->
<!--    </div>-->
<!--</div>-->
<!--<ul class="bubbles">-->
<!--    <li></li>-->
<!--    <li></li>-->
<!--    <li></li>-->
<!--    <li></li>-->
<!--    <li></li>-->
<!--    <li></li>-->
<!--    <li></li>-->
<!--    <li></li>-->
<!--    <li></li>-->
<!--    <li></li>-->
<!--</ul>-->
<!--</div>-->
<!--&lt;!&ndash; //main &ndash;&gt;-->

</body>
</html>